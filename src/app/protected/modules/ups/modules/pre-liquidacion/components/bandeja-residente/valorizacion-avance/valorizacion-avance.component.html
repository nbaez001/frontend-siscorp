<div class="page">
  
        <mat-card>
            <div [formGroup]="formValorizacionGrp" id="formValorizacionGrp">
                <mat-grid-list cols="12" rowHeight="50px">
                    <!-- <mat-grid-tile [responsiveRows]="{xs: 0, sm: 0, md: 2, lg: 2, xl: 2}"></mat-grid-tile> -->
                    <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6, md: 4, lg: 4, xl: 4}">
                        <mat-form-field appearance="outline">
                            <mat-label>N° Convenio</mat-label>
                            <input matInput formControlName="frmNumConvenio">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6, md: 2, lg:2, xl: 2}">
                        <mat-form-field appearance="outline">
                            <mat-label>Código SNIP</mat-label>
                            <input matInput formControlName="frmCodSnip">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6,md: 2, lg:2, xl: 2}">
                        <mat-form-field appearance="outline">
                            <mat-label>Correspondiente al mes de</mat-label>
                            <input matInput formControlName="frmMes">
                        </mat-form-field>
                    </mat-grid-tile>
                </mat-grid-list>

                <mat-grid-list cols="12" rowHeight="50px">
                    <!-- <mat-grid-tile [responsiveRows]="{xs: 0, sm: 0, md: 2, lg: 2, xl: 2}"></mat-grid-tile> -->
                    <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6, md: 6, lg: 6, xl: 6}">
                        <mat-form-field appearance="outline">
                            <mat-label>Proyecto</mat-label>
                            <input matInput formControlName="frmProyecto">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6, md: 2, lg:2, xl: 2}">
                        <mat-form-field appearance="outline">
                            <mat-label>Fecha de presentación</mat-label>
                            <input matInput formControlName="frmFechaPresentacion">
                        </mat-form-field>
                    </mat-grid-tile>
                </mat-grid-list>

                <mat-grid-list cols="12" rowHeight="50px">
                    <!-- <mat-grid-tile [responsiveRows]="{xs: 0, sm: 0, md: 2, lg: 2, xl: 2}"></mat-grid-tile> -->
                    <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6, md: 2, lg:2, xl: 2}">
                        <mat-form-field appearance="outline">
                            <mat-label>Monto Financiado</mat-label>
                            <input matInput formControlName="frmMontoFinanciado">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6, md: 2, lg:2, xl: 2}">
                        <mat-form-field appearance="outline">
                            <mat-label>Fecha inicio de obra</mat-label>
                            <input matInput formControlName="frmFechaInicio">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6, md: 2, lg:2, xl: 2}">
                        <mat-form-field appearance="outline">
                            <mat-label>Plazo de ejecución</mat-label>
                            <input matInput formControlName="frmPlazo">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6, md: 2, lg:2, xl: 2}">
                        <mat-form-field appearance="outline">
                            <mat-label>Fecha de término prevista</mat-label>
                            <input matInput formControlName="frmFechaTermino">
                        </mat-form-field>
                    </mat-grid-tile>
                </mat-grid-list>
            </div>
               
           
        </mat-card>
        <mat-card>
            <div class="table-container">
                <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" > 

                    <!-- Cabeceras Priner nivel - INICIO-->
                    
                    <ng-container matColumnDef="colPartida">
                      <th mat-header-cell *matHeaderCellDef [ngStyle]="{'display': 'none'}"> Partida</th>
                      <td mat-cell *matCellDef="let tabla">{{tabla.partida}} </td>
                    </ng-container>
               
                    <ng-container matColumnDef="colDescripcion">
                      <th mat-header-cell *matHeaderCellDef [ngStyle]="{'display': 'none'}"> Descripcion </th>
                      <td mat-cell *matCellDef="let tabla"> {{tabla.descripcion}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="colUndPre">
                      <th mat-header-cell *matHeaderCellDef > UND  </th>
                      <td mat-cell *matCellDef="let tabla"> {{tabla.undPre}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="colMetPre">
                      <th mat-header-cell *matHeaderCellDef> MET </th>
                      <td mat-cell *matCellDef="let tabla"> {{tabla.metPre}} </td>
                    </ng-container>
               
                    <ng-container matColumnDef="colPrecioUnitPre">
                     <th mat-header-cell *matHeaderCellDef> P. UNIT </th>
                     <td mat-cell *matCellDef="let tabla"> {{tabla.precioUnitPre}} </td>
                    </ng-container>
               
                    <ng-container matColumnDef="colPresupuesto">
                        <th mat-header-cell *matHeaderCellDef> PRESUP </th>
                        <td mat-cell *matCellDef="let tabla"> {{tabla.presupuesto}} </td>
                    </ng-container>
               
                    <ng-container matColumnDef="colMetAnt">
                        <th mat-header-cell *matHeaderCellDef >MET </th>
                        <!-- <td mat-cell *matCellDef="let tabla"> {{tabla.metAnt}} </td> -->
                        <td mat-cell *matCellDef="let tabla" class="td-align-center" >
                            <mat-form-field  appearance="outline" floatLabel="never" >
                               <input matInput [value]="tabla.metAnt" [(ngModel)]="tabla.metAnt"  (keyup.enter)="actualizarTabla(tabla)" ><!-- (blur)="actualizarTabla()" (focusout)="actualizarTabla()" -->
                            </mat-form-field>
                        </td>    
                    </ng-container>
   
                   
                    <ng-container matColumnDef="colValAnt">
                        <th mat-header-cell *matHeaderCellDef> VAL </th>
                        <!-- <td mat-cell *matCellDef="let tabla"> {{tabla.valAnt}} </td> -->
                        <td mat-cell *matCellDef="let tabla" class="td-align-center">
                            <mat-form-field appearance="outline" floatLabel="never">
                              <input matInput [value]="tabla.valAnt" [(ngModel)]="tabla.valAnt"  (keyup.enter)="actualizarTabla(tabla)" >
                            </mat-form-field>
                        </td>
                    </ng-container>
               
                    <ng-container matColumnDef="colMetAct">
                        <th mat-header-cell *matHeaderCellDef> MET </th>
                        <!-- <td mat-cell *matCellDef="let tabla"> {{tabla.metAct}} </td> -->
                        <td mat-cell *matCellDef="let tabla" class="td-align-center">
                            <mat-form-field  appearance="outline" floatLabel="never">
                              <input matInput [value]="tabla.metAct" [(ngModel)]="tabla.metAct" (keyup.enter)="actualizarTabla(tabla)">
                            </mat-form-field>
                        </td>
                    </ng-container>
                
                    <ng-container matColumnDef="colValAct">
                        <th mat-header-cell *matHeaderCellDef> VAL </th>
                        <!-- <td mat-cell *matCellDef="let tabla"> {{tabla.valAct}} </td> -->
                        <td mat-cell *matCellDef="let tabla" class="td-align-center">
                            <mat-form-field  appearance="outline" floatLabel="never">
                              <input matInput [value]="tabla.valAct" [(ngModel)]="tabla.valAct" (keyup.enter)="actualizarTabla(tabla)">
                            </mat-form-field>
                        </td>
                    </ng-container>
                
                    <ng-container matColumnDef="colMetAcu">
                        <th mat-header-cell *matHeaderCellDef> MET </th>
                        <!-- <td mat-cell *matCellDef="let tabla"> {{tabla.metAcu}} </td> -->
                        <td mat-cell *matCellDef="let tabla" class="td-align-center">
                            <mat-form-field  appearance="outline" floatLabel="never">
                              <input matInput [value]="tabla.metAcu" [(ngModel)]="tabla.metAcu" (keyup.enter)="actualizarTabla(tabla)">
                            </mat-form-field>
                        </td>
                    </ng-container>
              
                    <ng-container matColumnDef="colValAcu">
                        <th mat-header-cell *matHeaderCellDef> VAL </th>
                        <!-- <td mat-cell *matCellDef="let tabla"> {{tabla.valAcu}} </td> -->
                        <td mat-cell *matCellDef="let tabla" class="td-align-center">
                            <mat-form-field  appearance="outline" floatLabel="never">
                              <input matInput [value]="tabla.valAcu" [(ngModel)]="tabla.valAcu" (keyup.enter)="actualizarTabla(tabla)">
                            </mat-form-field>
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="colPorcentajeAcu">
                        <th mat-header-cell *matHeaderCellDef > % </th>
                        <!-- <td mat-cell *matCellDef="let tabla"> {{tabla.porcentajeAcu}} </td> -->
                        <td mat-cell *matCellDef="let tabla" class="td-align-center">
                            <mat-form-field  appearance="outline" floatLabel="never">
                              <input matInput [value]="tabla.porcentajeAcu" [(ngModel)]="tabla.porcentajeAcu" (keyup.enter)="actualizarTabla(tabla)">
                            </mat-form-field>
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="colMetSaldo">
                        <th mat-header-cell *matHeaderCellDef> MET </th>
                        <!-- <td mat-cell *matCellDef="let tabla"> {{tabla.metSaldo}} </td> -->
                        <td mat-cell *matCellDef="let tabla" class="td-align-center">
                            <mat-form-field  appearance="outline" floatLabel="never">
                              <input matInput [value]="tabla.metSaldo" [(ngModel)]="tabla.metSaldo" (keyup.enter)="actualizarTabla(tabla)">
                            </mat-form-field>
                        </td>
                    </ng-container>
              
                    <ng-container matColumnDef="colValSaldo">
                        <th mat-header-cell *matHeaderCellDef> VAL </th>
                        <!-- <td mat-cell *matCellDef="let tabla"> {{tabla.valSaldo}} </td> -->
                        <td mat-cell *matCellDef="let tabla" class="td-align-center">
                            <mat-form-field  appearance="outline" floatLabel="never">
                              <input matInput [value]="tabla.valSaldo" [(ngModel)]="tabla.valSaldo" (keyup.enter)="actualizarTabla(tabla)">
                            </mat-form-field>
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="colPorcentajeSaldo">
                        <th mat-header-cell *matHeaderCellDef> % </th>
                        <!-- <td mat-cell *matCellDef="let tabla"> {{tabla.porcentajeSaldo}} </td> -->
                        <td mat-cell *matCellDef="let tabla" class="td-align-center">
                            <mat-form-field  appearance="outline" floatLabel="never">
                              <input matInput [value]="tabla.porcentajeSaldo" [(ngModel)]="tabla.porcentajeSaldo" (keyup.enter)="actualizarTabla(tabla)">
                            </mat-form-field>
                        </td>
                    </ng-container>
                   <!-- Cabeceras Primer nivel- FIN-->
               
                   <!-- Cabeceras Segundo nivel - INICIO-->
                    <ng-container matColumnDef="colPartida2">
                     <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">PARTIDAS</th>
                    </ng-container>
                    <ng-container matColumnDef="colDescripcion2">
                     <th mat-header-cell *matHeaderCellDef [attr.rowspan]="2" [ngStyle]="{'display': 'none'}">DESCRIPCIÓN</th>
                    </ng-container>
                    <ng-container matColumnDef="colPresupuesto2">
                        <th mat-header-cell *matHeaderCellDef [attr.colspan]="4" [ngStyle]="{'display': 'none'}">PRESUPUESTO </th>
                    </ng-container>
                    <ng-container matColumnDef="colAnterior">
                     <th mat-header-cell *matHeaderCellDef [attr.colspan]="2">ANTERIOR </th>
                    </ng-container>
                    <ng-container matColumnDef="colActual">
                     <th mat-header-cell *matHeaderCellDef [attr.colspan]="2" > ACTUAL </th>
                    </ng-container>
                    <ng-container matColumnDef="colAcumulado">
                     <th mat-header-cell *matHeaderCellDef [attr.colspan]="3">ACUMULADO  </th>
                    </ng-container>
                    <ng-container matColumnDef="colSaldo">
                     <th mat-header-cell *matHeaderCellDef [attr.colspan]="3" [ngStyle]="{'display': 'none'}">SALDO </th>
                    </ng-container>
                   <!-- Cabeceras Segundo nivel - FIN--> 
               
                   <!-- Cabeceras tercer nivel - INICIO-->
                   <ng-container matColumnDef="colPartida3">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="3">PARTIDASx</th>
                   </ng-container>
                   <ng-container matColumnDef="colDescripcion3">
                    <th mat-header-cell *matHeaderCellDef [attr.rowspan]="3">DESCRIPCIÓN</th>
                   </ng-container>
                   <ng-container matColumnDef="colPresupuesto3">
                       <th mat-header-cell *matHeaderCellDef [attr.colspan]="4" [attr.rowspan]="2">PRESUPUESTO </th>
                   </ng-container>
                   <ng-container matColumnDef="colAvance">
                    <th mat-header-cell *matHeaderCellDef [attr.colspan]="7">AVANCES </th>
                   </ng-container>
                   <ng-container matColumnDef="colSaldo3">
                    <th mat-header-cell *matHeaderCellDef [attr.colspan]="3" [attr.rowspan]="2"> SALDO </th>
                   </ng-container>
                  <!-- Cabeceras tercer nivel - FIN 

                    <!-- columnas tercer nivel -->
                   <tr mat-header-row *matHeaderRowDef="['colPartida3', 'colDescripcion3','colPresupuesto3','colAvance','colSaldo3']"></tr>
                
               
                   <!-- columnas segundo nivel -->
                   <tr mat-header-row *matHeaderRowDef="['colPartida2', 'colDescripcion2','colPresupuesto2','colAnterior','colActual','colAcumulado','colSaldo']"></tr>

                   <!-- columnas primer nivel -->
                   <tr mat-header-row *matHeaderRowDef="columnas;" class="encabezadoTabla"></tr>

                    <tr mat-row *matRowDef="let row; columns: columnas"></tr>
               
                  </table>
               
                  <div class="empty" *ngIf=" dataSource === null">
                    No existe datos para mostrar en la tabla
                  </div>
               
               
                     <mat-paginator class="mat-paginator-sticky" [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons>
                     </mat-paginator>
            </div>

            <mat-grid-list cols="12"  >
                <mat-grid-tile [responsiveRows]="{xs: 0, sm: 4, md: 4, lg: 8, xl: 9}" ></mat-grid-tile>
                <mat-grid-tile [responsiveRows]="{xs: 12, sm: 8, md: 8, lg: 4, xl: 3}" >
                  <div mat-dialog-actions class="alinear-boton">
                    <!-- <button mat-raised-button color="primary" (click)="guardar()" style="margin-left: 5px;margin-top: 5px;">Guardar sin enviar</button>
                    <button mat-raised-button color="primary" (click)="enviar()" style="margin-left: 5px;margin-top: 5px;">Enviar</button> -->
                    <button mat-raised-button color="primary" (click)="reporteValorizacionAvance()" style="margin-left: 5px;margin-top: 5px;">Vista previa</button>
                    
                  </div>
                </mat-grid-tile>
              </mat-grid-list>
              
              <mat-grid-list cols="12"  >
                <mat-grid-tile [responsiveRows]="{xs: 0, sm: 4, md: 4, lg: 8, xl: 9}" ></mat-grid-tile>
                <mat-grid-tile [responsiveRows]="{xs: 12, sm: 8, md: 8, lg: 4, xl: 3}" >
                  <div mat-dialog-actions class="alinear-boton">
                    <!-- <button mat-raised-button color="primary" (click)="guardar()" style="margin-left: 5px;margin-top: 5px;">Guardar sin enviar</button>
                    <button mat-raised-button color="primary" (click)="enviar()" style="margin-left: 5px;margin-top: 5px;">Enviar</button> -->
                    <button mat-raised-button color="primary" (click)="generarReporteCronogramaAvance()" style="margin-left: 5px;margin-top: 5px;">Cronograma avance proyecto</button>
                    
                  </div>
                </mat-grid-tile>
              </mat-grid-list>
        </mat-card>
        <!-- <mat-grid-list cols="12" >
            <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6, md:6, lg:6, xl: 6}">
                <p-fieldset legend="Cabecera informe" >
                    <mat-grid-list cols="12" rowHeight="50px">
                        
                        <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6, md: 3, lg:3, xl: 3}">
                            <mat-form-field appearance="outline">
                                <mat-label>Monto Financiado</mat-label>
                                <input matInput formControlName="frmMontoFinanciado">
                            </mat-form-field>
                        </mat-grid-tile>
                        <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6,  md: 3, lg:3, xl: 3}">
                            <mat-form-field appearance="outline">
                                <mat-label>Fecha inicio de obra</mat-label>
                                <input matInput formControlName="frmFechaInicio">
                            </mat-form-field>
                        </mat-grid-tile>
                        <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6,  md: 3, lg:3, xl: 3}">
                            <mat-form-field appearance="outline">
                                <mat-label>Plazo de ejecución</mat-label>
                                <input matInput formControlName="frmPlazo">
                            </mat-form-field>
                        </mat-grid-tile>
                        <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6, md: 3, lg:3, xl: 3}">
                            <mat-form-field appearance="outline">
                                <mat-label>Fecha de término prevista</mat-label>
                                <input matInput formControlName="frmFechaTermino">
                            </mat-form-field>
                        </mat-grid-tile>
                    </mat-grid-list>
                    
                </p-fieldset>
            </mat-grid-tile>
            <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6, md:6, lg:6, xl: 6}">
                <p-fieldset legend="Cabecera informe2" >
                    <mat-grid-list cols="12" rowHeight="50px">
                       
                        <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6, md:6, lg:6, xl: 6}">
                            <mat-form-field appearance="outline">
                                <mat-label>Monto Financiado</mat-label>
                                <input matInput formControlName="frmMontoFinanciado">
                            </mat-form-field>
                        </mat-grid-tile>
                        <mat-grid-tile [responsiveRows]="{xs: 12, sm: 6, md:6, lg:6, xl: 6}">
                            <mat-form-field appearance="outline">
                                <mat-label>Fecha inicio de obra</mat-label>
                                <input matInput formControlName="frmFechaInicio">
                            </mat-form-field>
                        </mat-grid-tile>
                       
                    </mat-grid-list>
                </p-fieldset>
            </mat-grid-tile>
        </mat-grid-list>  -->
</div>


